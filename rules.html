<html>

<head></head>

<body>

    <p><strong>tokonoma</strong>&nbsp;is&nbsp;an&nbsp;abstract&nbsp;strategy board game for two players. It is vaguely
        similar to chess, checkers or <a href="https://en.wikipedia.org/wiki/Hive_(game)" target="_blank">Hive</a>.</p>
    <p>Players battle it out on a cramped board with strangely hopping pieces that can stack, a tangle of eclectic
        attack patterns, and an unusual mechanic for capturing. Despite its unassuming size, tokonoma offers remarkable
        depth.<br></p>
    <p>You can play in local multiplayer or against the computer at various difficulty levels.</p>
    <h1 id="rules">Rules</h1>
    <h2 id="setup">Setup</h2>
    <p>A board of 29 hexagonal tiles is setup as follows.</p>
    <p><img src="https://cancrizans.github.io/hexstack/diags/board.png"></p>
    <p>White, who moves first, starts on the right side and moves to the left. For white, forward is left.</p>
    <p>Black starts on the left and moves to the right. For black, forward is right.</p>
    <p>The rightmost tile is White's <strong>house</strong>, the leftmost tile is Black's <strong>house</strong>.</p>
    <p>The pieces are laid out like this:</p>
    <p><img src="https://cancrizans.github.io/hexstack/diags/board_setup.png"></p>
    <h2 id="pieces">Pieces</h2>
    <p>All pieces move and attack according to some specific pattern. A piece can only move into an empty tile, with the
        sole exception of stacking (see below). When a piece moves by more than one tile, it always jumps over any
        obstacle -- only whether the final tile is occupied matters.</p>
    <h3 id="flats">Flats</h3>
    &nbsp;<br>
    <table>
        <tbody>
            <tr>
                <td><img src="https://cancrizans.github.io/hexstack/diags/mov_flat_white.png"></td>
                <td><img src="https://cancrizans.github.io/hexstack/diags/mov_flat_black.png"></td>
            </tr>
        </tbody>
    </table>
    <p><strong>Flats</strong> move one tile forward, or one tile forward-sideways.</p>
    <p>When a flat reaches the opponent's house, the player immediately wins.</p>
    <h3 id="arm">Arm</h3>
    <table>
        <tbody>
            <tr>
                <td><img src="https://cancrizans.github.io/hexstack/diags/mov_arm_white.png"></td>
                <td><img src="https://cancrizans.github.io/hexstack/diags/mov_arm_black.png"></td>
            </tr>
        </tbody>
    </table>
    <p>The <strong>Arm</strong> or <strong>Hand</strong> can move either two tiles forward, one tile backwards, or one
        tile backward-sideways.</p>
    <h3 id="blind">Blind</h3>
    <table>
        <tbody>
            <tr>
                <td><img src="https://cancrizans.github.io/hexstack/diags/mov_blind_white.png"></td>
                <td><img src="https://cancrizans.github.io/hexstack/diags/mov_blind_black.png"></td>
            </tr>
        </tbody>
    </table>
    <p>The <strong>Blind</strong> can move either two tiles forward-sideways, two tiles backwards, or one tile
        backward-sideways.</p>
    <p>All the tiles the Blind can move to on a given turn are the same color. In fact, the White Blind always cycles
        mid -&gt; light -&gt; dark -&gt; mid, and the Black Blind always cycles mid -&gt; dark -&gt; light -&gt; mid.
    </p>
    <h3 id="star">Star</h3>
    <table>
        <tbody>
            <tr>
                <td><img src="https://cancrizans.github.io/hexstack/diags/mov_star_white.png"></td>
                <td><img src="https://cancrizans.github.io/hexstack/diags/mov_star_black.png"></td>
            </tr>
        </tbody>
    </table>
    <p>The <strong>Star</strong> can move one step diagonally, along the edges of the tiles. More simply, the Star is
        bound to its original tile color, and can move to the six closest tiles of the same color.</p>
    <p>Thus, the White Star is bound to dark tiles, and the Black Star is bound to light tiles.</p>
    <h3 id="talls-and-stacking">Talls and Stacking</h3>
    <p><img src="https://cancrizans.github.io/hexstack/diags/stack_pre.png"></p>
    <p>&nbsp;<img src="https://cancrizans.github.io/hexstack/diags/stack_post.png"></p>
    <p>A <strong>tall-piece</strong> (Arm, Blind, Star) may move into a flat <em>of the same color</em>, so that they
        <strong>stack</strong> and occupy the same tile. (A flat cannot move into a tall to stack under it.)</p>
    <p>When stacked, the <strong>flat is essentially inactive, as it can neither move nor attack</strong>. The tall,
        instead, attacks and is free to move off the flat. </p>
    <p>Stacks are just as vulnerable to attacks as the lone pieces.</p>
    <h2 id="turns">Turns</h2>
    <p>A player's turn consists of two stages:</p>
    <h3 id="movement">Movement</h3>
    <p>The player <strong>must</strong> move one of their pieces by a legal move according to the patterns above. If
        there are no legal moves available, the player has lost (<strong>stalemate</strong>).</p>
    <h3 id="attack">Attack</h3>
    <p><strong>All</strong> of the player's pieces (including those that were not just moved) automatically attack all
        of the opponent's pieces. A tile is under attack if a player's piece could move into it, or in other words,
        pieces attack in the same pattern as they move.&nbsp; For example: a flat can only attack in front, not
        backwards, because that's how it moves.<br></p>
    <p>Any opponent's piece which is under attack from <strong>at least two pieces</strong> is <strong>captured</strong>
        and removed from play.&nbsp; Stacked pieces are equally vulnerable, and will be captured together.</p>
    <p>An attacking piece may contribute to attacking multiple targets at the same time.</p>
    <p>(Note: the opponent does <em>not</em> counter-attack during this stage. Only the player that just moved attacks.)
    </p>

    <table>
        <tr>
            <td><img src="https://cancrizans.github.io/hexstack/diags/attack_pre.png"></td>
            <td><img src="https://cancrizans.github.io/hexstack/diags/attack_post.png"></td>
        </tr>

    </table>

    In this example, White pushes forward a flat; since White just moved, only their pieces attack. The upper Black flat is under attack by two pieces, and thus is captured. The lower Black flat is not captured since it is only under attack by one piece.
    
    Even though white's flat walked into a double attacked tile itself, it is not captured since it was not Black's turn.

    <h2 id="win">Win Conditions</h2>
    <p>The game can finish in either of two ways:</p>
    <ul>
        <li><strong>House Capture</strong>: If a player's <strong>flat</strong> (not a tall) reaches the opponent's
            house tile, that player wins.</li>
        <li><strong>Stalemate</strong>: If a player starts their turn with no legal moves, they lose.</li>
    </ul>
    <h3 id="draw-by-repetition">Draw by repetition</h3>
    <p>While unlikely, it is possible to have a non-terminating game. If the same position repeats three times, the game
        may be declared a draw. This implementation does not apply this rule, and bots do not correctly account for it.
    </p>

</body>

</html>